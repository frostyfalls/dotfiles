#!/bin/sh

case "$BLOCK_BUTTON" in
    6) setsid -f "$TERMINAL" -e "$EDITOR" "$0" ;;
esac

get_local_ip() {
    if ! local_ip=$(ip route get 1); then
        printf 'Offline\n'
        return
    fi

    local_ip=${local_ip#* via * dev * src }
    local_ip=${local_ip% uid *}

    printf '%s\n' "$local_ip"
}

value=$(get_local_ip)
icon="ï‚¬"

printf '%s %s\n' "$icon" "$value"
