#!/bin/sh

# Bookmark files
BM_DIRS="${XDG_CONFIG_HOME:-$HOME/.config}/bm-dirs"
BM_FILES="${XDG_CONFIG_HOME:-$HOME/.config}/bm-files"

# Output files
SHELL_SHORTCUTS="${XDG_CONFIG_HOME:-$HOME/.config}/shell/shortcuts"

rm "$SHELL_SHORTCUTS" 2>/dev/null

{
	sed '/^\s*$/d;/^\s*#/d' "$BM_DIRS" |
		while read -r name value; do
			printf "alias %s='cd %s'\n" "$name" "$value"
		done

	sed '/^\s*$/d;/^\s*#/d' "$BM_FILES" |
		while read -r name value; do
			printf "alias %s='%s %s'\n" "$name" "$EDITOR" "$value"
		done
} >>"$SHELL_SHORTCUTS"

printf '\n# vim: ft=sh\n' >>"$SHELL_SHORTCUTS"
